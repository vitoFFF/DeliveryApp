<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload Sample Data - Delivery App</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 1rem;
            padding: 3rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 600px;
        }

        h1 {
            text-align: center;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 2rem;
        }

        .info-box {
            background: rgba(59, 130, 246, 0.1);
            color: #3b82f6;
            padding: 1.5rem;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .info-box h3 {
            margin-bottom: 0.5rem;
        }

        .btn {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #e2e8f0;
            color: #0f172a;
        }

        .btn-secondary:hover {
            background: #cbd5e1;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        #progress {
            background: #e2e8f0;
            height: 8px;
            border-radius: 4px;
            margin: 1.5rem 0;
            overflow: hidden;
            display: none;
        }

        #progressBar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        #log {
            background: #0f172a;
            color: #10b981;
            padding: 1rem;
            border-radius: 0.5rem;
            max-height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.875rem;
            line-height: 1.6;
            display: none;
        }

        .log-entry {
            margin-bottom: 0.25rem;
        }

        .log-success {
            color: #10b981;
        }

        .log-error {
            color: #ef4444;
        }

        .log-info {
            color: #3b82f6;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üì¶ Upload Sample Data</h1>

        <div class="info-box">
            <h3>What will be uploaded:</h3>
            <ul>
                <li>‚úÖ 7 Categories (Pizza, Sushi, Dessert, etc.)</li>
                <li>‚úÖ 22 Venues (Restaurants, Supermarkets, Tea shops)</li>
                <li>‚úÖ 20 Products (Menu items for each venue)</li>
            </ul>
            <p style="margin-top: 1rem; font-size: 0.875rem;">
                <strong>Note:</strong> This will add all the sample data from your mockData.js file to Firebase.
            </p>
        </div>

        <button class="btn btn-primary" id="uploadBtn" onclick="uploadData()">
            Upload Sample Data to Firebase
        </button>

        <div id="progress">
            <div id="progressBar"></div>
        </div>

        <div id="log"></div>

        <button class="btn btn-secondary" onclick="window.location.href='admin-panel.html'">
            Go to Admin Panel
        </button>
    </div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getDatabase, ref, set } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

        const firebaseConfig = {
            apiKey: "AIzaSyAzd7H7osMun82EqK37UHjEn-dpX2JM2rI",
            authDomain: "delivery-eb503.firebaseapp.com",
            databaseURL: "https://delivery-eb503-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "delivery-eb503",
            storageBucket: "delivery-eb503.firebasestorage.app",
            messagingSenderId: "708037846990",
            appId: "1:708037846990:web:8e6824ccdece44b7eeed9f",
            measurementId: "G-8HXQB157V7"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        // Sample data from mockData.js
        const sampleData = {
            categories: [
                { id: '2', name: 'Pizza', icon: 'pizza-slice', emoji: 'üçï' },
                { id: '3', name: 'Sushi', icon: 'fish', emoji: 'üç£' },
                { id: '5', name: 'Dessert', icon: 'ice-cream', emoji: 'üç¶' },
                { id: 'drinks_combined', name: 'Drinks & Tea', icon: 'glass-water', emoji: 'üçπ' },
                { id: '8', name: 'Supermarkets', icon: 'cart-shopping', emoji: 'üõí' },
                { id: '11', name: 'Restaurants', icon: 'utensils', emoji: 'üçΩÔ∏è' },
            ],
            venues: [
                { id: '1', name: 'Burger King', rating: 4.5, deliveryTime: '25-35 min', image: 'https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=800&q=80', categories: ['American'], priceRange: '$$' },
                { id: '2', name: 'Sushi Master', rating: 4.8, deliveryTime: '40-50 min', image: 'https://images.unsplash.com/photo-1579871494447-9811cf80d66c?w=800&q=80', categories: ['Sushi', 'Japanese'], priceRange: '$$$' },
                { id: '3', name: 'Pizza Hut', rating: 4.2, deliveryTime: '30-40 min', image: 'https://images.unsplash.com/photo-1604382354936-07c5d9983bd3?w=800&q=80', categories: ['Pizza', 'Italian'], priceRange: '$$' },
                { id: '4', name: 'Green Bowl', rating: 4.6, deliveryTime: '20-30 min', image: 'https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=800&q=80', categories: ['Healthy', 'Salad'], priceRange: '$$' },
                { id: '5', name: 'Pirosmani', rating: 4.7, deliveryTime: '30-45 min', image: 'https://images.unsplash.com/photo-1592417817098-8fd3d9eb14a5?w=800&q=80', categories: ['Restaurants', 'Georgian'], priceRange: '$$' },
                { id: '6', name: 'Tonusi', rating: 4.5, deliveryTime: '25-40 min', image: 'https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?w=800&q=80', categories: ['Restaurants', 'BBQ'], priceRange: '$$' },
                { id: '8', name: 'Ethno Guria', rating: 4.9, deliveryTime: '40-55 min', image: 'https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=800&q=80', categories: ['Restaurants', 'Georgian'], priceRange: '$$$' },
                { id: '9', name: 'Kalakuri', rating: 4.6, deliveryTime: '30-45 min', image: 'https://images.unsplash.com/photo-1559339352-11d035aa65de?w=800&q=80', categories: ['Restaurants', 'Georgian'], priceRange: '$$' },
                { id: '11', name: 'Taba Tea House', rating: 4.9, deliveryTime: '15-25 min', image: 'https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2d/6d/be/a1/caption.jpg?w=900&h=-1&s=1', categories: ['Drinks & Tea'], priceRange: '$$', website: 'https://tabatea.ge/' },
                { id: '12', name: 'Alcorium', rating: 4.8, deliveryTime: '20-35 min', image: 'https://images.unsplash.com/photo-1506377247377-2a5b3b417ebb?w=800&q=80', categories: ['Drinks & Tea'], priceRange: '$$$' },
                { id: '13', name: 'Wine House', rating: 4.6, deliveryTime: '25-40 min', image: 'https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=800&q=80', categories: ['Drinks & Tea'], priceRange: '$$' },
                { id: '15', name: 'Nikora', rating: 4.5, deliveryTime: '20-35 min', image: 'https://images.unsplash.com/photo-1542838132-92c53300491e?w=800&q=80', categories: ['Supermarkets', 'Groceries'], priceRange: '$' },
                { id: '16', name: 'Libre', rating: 4.3, deliveryTime: '25-40 min', image: 'https://images.unsplash.com/photo-1578916171728-46686eac8d58?w=800&q=80', categories: ['Supermarkets', 'Groceries'], priceRange: '$' },
                { id: '17', name: 'Daily', rating: 4.4, deliveryTime: '20-35 min', image: 'https://images.unsplash.com/photo-1583258292688-d0213dc5a3a8?w=800&q=80', categories: ['Supermarkets', 'Groceries'], priceRange: '$' },
                { id: '18', name: 'Magniti', rating: 4.2, deliveryTime: '25-40 min', image: 'https://images.unsplash.com/photo-1578916171728-46686eac8d58?w=800&q=80', categories: ['Supermarkets', 'Groceries'], priceRange: '$' },
                { id: '21', name: 'Terrace Pub', rating: 4.5, deliveryTime: '20-40 min', image: 'https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&q=80', categories: ['Dessert', 'Drinks & Tea'], priceRange: '$$', website: 'https://www.facebook.com/profile.php?id=61553474553001' },
                { id: '22', name: 'Coffee In', rating: 4.6, deliveryTime: '15-30 min', image: 'https://madloba.info/media/images/Coffee_In_Ozurgeti.max-1920x1080.format-webp.mwtmk.webp', categories: ['Dessert', 'Coffee'], priceRange: '$', website: 'https://www.facebook.com/CoffeeInOzurgeti/' },
            ],
            products: [
                { id: 'bk1', restaurantId: '1', name: 'Whopper Meal', description: 'Flame-grilled beef patty, topped with tomatoes, fresh cut lettuce, mayo, pickles, a swirl of ketchup, and white onions on a soft sesame seed bun. Served with fries and a drink.', price: 9.99, image: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=500' },
                { id: 'bk2', restaurantId: '1', name: 'Chicken Royale', description: 'Crispy chicken breast with lettuce and mayo on a sesame seed bun.', price: 7.49, image: 'https://images.unsplash.com/photo-1615557960916-5f4791effe9d?w=500' },
                { id: 'sm1', restaurantId: '2', name: 'Philadelphia Roll', description: 'Salmon, cream cheese, cucumber, avocado.', price: 12.50, image: 'https://images.unsplash.com/photo-1579584425555-c3ce17fd43ca?w=500' },
                { id: 'sm2', restaurantId: '2', name: 'Spicy Tuna Roll', description: 'Fresh tuna, spicy mayo, cucumber, sesame seeds.', price: 10.99, image: 'https://images.unsplash.com/photo-1611143669185-af224c5e3252?w=500' },
                { id: 'ph1', restaurantId: '3', name: 'Pepperoni Feast', description: 'Double pepperoni and extra mozzarella cheese.', price: 14.99, image: 'https://images.unsplash.com/photo-1628840042765-356cda07504e?w=500' },
                { id: 'gb1', restaurantId: '4', name: 'Quinoa Power Bowl', description: 'Quinoa, avocado, roasted chickpeas, kale, lemon tahini dressing.', price: 11.50, image: 'https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=500' },
                { id: 'pr1', restaurantId: '5', name: 'Khinkali (5 pcs)', description: 'Traditional Georgian dumplings with spiced meat filling.', price: 8.00, image: 'https://images.unsplash.com/photo-1643320337638-928320f7007e?w=500' },
                { id: 'pr2', restaurantId: '5', name: 'Adjaruli Khachapuri', description: 'Cheese-filled bread boat topped with an egg and butter.', price: 10.50, image: 'https://images.unsplash.com/photo-1631302367872-08e6a9bdd643?w=500' },
                { id: 'tt1', restaurantId: '11', name: 'Gurian Black Tea', description: 'Premium loose leaf black tea grown in the mountains of Guria.', price: 15.00, image: 'https://images.unsplash.com/photo-1594631252845-29fc4cc8cde9?w=500' },
                { id: 'tt2', restaurantId: '11', name: 'Wild Berry Infusion', description: 'A blend of wild berries and herbs.', price: 12.00, image: 'https://images.unsplash.com/photo-1597481499750-3e6b22637e12?w=500' },
                { id: 'al1', restaurantId: '12', name: 'Saperavi 2019', description: 'Dry red wine, rich with dark fruit notes. Aged in qvevri.', price: 25.00, image: 'https://images.unsplash.com/photo-1559563362-c667ba5f5480?w=500' },
                { id: 'al2', restaurantId: '12', name: 'Rkatsiteli Amber', description: 'Traditional amber wine with notes of dried apricot and nuts.', price: 22.00, image: 'https://images.unsplash.com/photo-1516594915697-87eb3b1c14ea?w=500' },
                { id: 'nk1', restaurantId: '15', name: 'Fresh Milk (1L)', description: 'Pasteurized whole milk.', price: 1.50, image: 'https://images.unsplash.com/photo-1563636619-e9143da7973b?w=500' },
                { id: 'nk2', restaurantId: '15', name: 'Georgian Bread (Shotis Puri)', description: 'Freshly baked traditional bread.', price: 0.80, image: 'https://images.unsplash.com/photo-1576618148400-f54bed99fcfd?w=500' },
            ]
        };

        function log(message, type = 'info') {
            const logDiv = document.getElementById('log');
            logDiv.style.display = 'block';
            const entry = document.createElement('div');
            entry.className = `log-entry log-${type}`;
            entry.textContent = `${new Date().toLocaleTimeString()} - ${message}`;
            logDiv.appendChild(entry);
            logDiv.scrollTop = logDiv.scrollHeight;
        }

        function updateProgress(percent) {
            document.getElementById('progress').style.display = 'block';
            document.getElementById('progressBar').style.width = percent + '%';
        }

        window.uploadData = async function () {
            const uploadBtn = document.getElementById('uploadBtn');
            uploadBtn.disabled = true;
            uploadBtn.textContent = 'Uploading...';

            try {
                log('Starting upload to Firebase...', 'info');

                // Upload Categories
                log(`Uploading ${sampleData.categories.length} categories...`, 'info');
                for (const category of sampleData.categories) {
                    await set(ref(database, `deliveryApp/categories/${category.id}`), category);
                }
                updateProgress(33);
                log('‚úÖ Categories uploaded successfully!', 'success');

                // Upload Venues
                log(`Uploading ${sampleData.venues.length} venues...`, 'info');
                for (const venue of sampleData.venues) {
                    await set(ref(database, `deliveryApp/venues/${venue.id}`), venue);
                }
                updateProgress(66);
                log('‚úÖ Venues uploaded successfully!', 'success');

                // Upload Products
                log(`Uploading ${sampleData.products.length} products...`, 'info');
                for (const product of sampleData.products) {
                    await set(ref(database, `deliveryApp/products/${product.id}`), product);
                }
                updateProgress(100);
                log('‚úÖ Products uploaded successfully!', 'success');

                log('üéâ All data uploaded successfully!', 'success');
                uploadBtn.textContent = '‚úÖ Upload Complete!';
                uploadBtn.style.background = '#10b981';

                setTimeout(() => {
                    window.location.href = 'admin-panel.html';
                }, 2000);

            } catch (error) {
                log(`‚ùå Error: ${error.message}`, 'error');
                uploadBtn.disabled = false;
                uploadBtn.textContent = 'Retry Upload';
            }
        };
    </script>
</body>

</html>